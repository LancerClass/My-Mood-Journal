<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
<title>My Mood Journal</title>
<link rel="manifest" href="manifest.json" />
<style>
:root{
 --theme-bg:#e8f0e8; --theme-accent:#9fbfa5; --theme-text:#2b2b2b;
}
body{
 margin:0;padding:env(safe-area-inset-top) env(safe-area-inset-right) calc(env(safe-area-inset-bottom)+10px) env(safe-area-inset-left);
 font-family:Arial, sans-serif;background:var(--theme-bg);color:var(--theme-text);
}
nav{display:flex;justify-content:space-around;position:fixed;bottom:0;left:0;right:0;background:#fff;padding:10px 0;border-top:1px solid #ccc;}
nav button{background:none;border:none;font-size:16px;padding:10px;color:#666;}
nav button.active{color:var(--theme-accent);font-weight:bold;}
section{display:none;padding:20px;}
section.active{display:block;}
.card{background:#fff;margin:10px 0;padding:15px;border-radius:12px;box-shadow:0 2px 6px rgba(0,0,0,0.1);} 
#themePicker{margin-top:10px;}
.fab{position:fixed;bottom:calc(70px + env(safe-area-inset-bottom));right:20px;background:var(--theme-accent);color:white;width:55px;height:55px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:30px;box-shadow:0 4px 8px rgba(0,0,0,0.2);} 
</style>
</head>
<body>

<!-- Tabs Navigation -->
<nav>
 <button class="tabBtn active" data-tab="log">Log</button>
 <button class="tabBtn" data-tab="charts">Charts</button>
 <button class="tabBtn" data-tab="garden">Garden</button>
 <button class="tabBtn" data-tab="achievements">Achievements</button>
 <button class="tabBtn" data-tab="settings">Settings</button>
</nav>

<!-- Log Section -->
<section id="log" class="active">
 <div class="card">
 <h2>Add Mood Entry</h2>
 <select id="moodSelect">
 <option>ðŸ˜Š Happy</option><option>ðŸ˜” Sad</option><option>ðŸ˜¡ Angry</option><option>ðŸ˜µ Overwhelmed</option><option>ðŸ˜´ Tired</option><option>ðŸ«¶ Loved</option>
 </select>
 <textarea id="moodNote" placeholder="What happened?" style="width:100%;margin-top:10px;font-size:16px;"></textarea>
 <button id="saveEntry">Save</button>
 </div>
 <div id="entries"></div>
</section>

<!-- Charts Section -->
<section id="charts">
 <div class="card"><h2>Entries by Category</h2><canvas id="categoryChart"></canvas></div>
 <div class="card"><h2>Entries by Time of Day</h2><canvas id="timeChart"></canvas></div>
</section>

<!-- Garden Section -->
<section id="garden">
 <div class="card"><h2>Your Mood Garden</h2><p>Plants grow as positive moods increase.</p><div id="gardenArea">ðŸŒ±</div></div>
</section>

<!-- Achievements Section -->
<section id="achievements">
 <div class="card"><h2>Achievements</h2><ul id="achievementList"></ul></div>
</section>

<!-- Settings Section -->
<section id="settings">
 <div class="card"><h2>Theme Selector</h2>
 <select id="themePicker">
  <option value="sage">Sage</option>
  <option value="pink">Pink Blossom</option>
  <option value="lavender">Lavender</option>
  <option value="blue">Sky Blue</option>
  <option value="cocoa">Cocoa</option>
  <option value="dark">Dark</option>
 </select>
 </div>
</section>

<div class="fab" id="fab">+</div>

<script>
// Tab Switching
const tabs=document.querySelectorAll('.tabBtn');
const sections=document.querySelectorAll('section');
tabs.forEach(btn=>btn.onclick=()=>{
 tabs.forEach(b=>b.classList.remove('active'));
 btn.classList.add('active');
 sections.forEach(s=>s.classList.remove('active'));
 document.getElementById(btn.dataset.tab).classList.add('active');
});

// Theme Selector
const themes={
 sage:{bg:'#e8f0e8',accent:'#9fbfa5',text:'#2b2b2b'},
 pink:{bg:'#ffeaf3',accent:'#ff7fbf',text:'#3a1e2e'},
 lavender:{bg:'#f3eaff',accent:'#b28dff',text:'#2b1e3a'},
 blue:{bg:'#e8f4ff',accent:'#7fafff',text:'#1e2e3a'},
 cocoa:{bg:'#f1e6d8',accent:'#b58b61',text:'#3a2e1e'},
 dark:{bg:'#1e1e1e',accent:'#7f7f7f',text:'#ffffff'}
};

document.getElementById('themePicker').onchange=e=>{
 const t=themes[e.target.value];
 for(let v in t){document.documentElement.style.setProperty(`--theme-${v}`,t[v]);}
 localStorage.setItem('theme',e.target.value);
};

const saved=localStorage.getItem('theme');
if(saved){document.getElementById('themePicker').value=saved;document.getElementById('themePicker').onchange({target:{value:saved}});}
</script>
</body>
</html>
